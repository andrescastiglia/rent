# =============================================================================
# BATCH BILLING SYSTEM - Environment Configuration
# =============================================================================
# Copy this file to .env and adjust values as needed
# NEVER commit the .env file (should be in .gitignore)
# =============================================================================

# -----------------------------------------------------------------------------
# PostgreSQL - Shared Database
# -----------------------------------------------------------------------------
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=rent_dev
POSTGRES_USER=rent_user
POSTGRES_PASSWORD=rent_dev_password
DATABASE_URL=postgresql://rent_user:rent_dev_password@localhost:5432/rent_dev

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
LOG_LEVEL=info
LOG_DIR=/var/log/batch
LOG_MAX_SIZE=20m
LOG_MAX_FILES=14d

# -----------------------------------------------------------------------------
# ARCA (ex AFIP) - Argentina Electronic Invoicing
# -----------------------------------------------------------------------------
ARCA_ENVIRONMENT=sandbox
ARCA_WSAA_URL=https://wsaahomo.afip.gov.ar/ws/services/LoginCms
ARCA_WSFEV1_URL=https://wswhomo.afip.gov.ar/wsfev1/service.asmx

# Certificate paths (relative to /batch or absolute)
ARCA_CERTIFICATE_PATH=./certs/certificate.crt
ARCA_PRIVATE_KEY_PATH=./certs/private.key

# -----------------------------------------------------------------------------
# External APIs - Inflation Indices
# -----------------------------------------------------------------------------
# BCRA API (Argentina - ICL)
BCRA_API_URL=https://api.bcra.gob.ar
# BCRA Exchange Rates API (Argentina - USD/ARS, BRL/ARS)
BCRA_EXCHANGE_RATE_API_URL=https://api.bcra.gob.ar/estadisticascambiarias/v1.0
BCRA_API_TOKEN=
# Set true only as temporary workaround for TLS/certificate issues
BCRA_API_INSECURE=false

# FGV/BCB API (Brazil - IGP-M)
FGV_API_URL=https://api.bcb.gov.br/dados/serie/bcdata.sgs.189/dados
BCB_API_URL=https://api.bcb.gov.br
# Set true only as temporary workaround for TLS/certificate issues
BCB_API_INSECURE=false

# -----------------------------------------------------------------------------
# WhatsApp Notifications (delegated to backend)
# -----------------------------------------------------------------------------
PORT=3001
BATCH_WHATSAPP_INTERNAL_TOKEN=replace_with_shared_secret

# -----------------------------------------------------------------------------
# Batch Processing Configuration
# -----------------------------------------------------------------------------
BATCH_SIZE=100
DRY_RUN=false
RETRY_ATTEMPTS=3
RETRY_DELAY_MS=5000

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
ENABLE_ARCA=false
ENABLE_NOTIFICATIONS=true
ENABLE_WITHHOLDINGS=false
